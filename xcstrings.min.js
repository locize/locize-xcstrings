!function(n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).xcstrings=n()}(function(){return function r(i,o,s){function a(e,n){if(!o[e]){if(!i[e]){var t="function"==typeof require&&require;if(!n&&t)return t(e,!0);if(c)return c(e,!0);throw(n=new Error("Cannot find module '"+e+"'")).code="MODULE_NOT_FOUND",n}t=o[e]={exports:{}},i[e][0].call(t.exports,function(n){return a(i[e][1][n]||n)},t,t.exports,r,i,o,s)}return o[e].exports}for(var c="function"==typeof require&&require,n=0;n<s.length;n++)a(s[n]);return a}({1:[function(n,e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,Object.defineProperty(t,"locize2xcstrings",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"xcstrings2locize",{enumerable:!0,get:function(){return r.default}});var r=o(n("./xcstrings2locize.js")),i=o(n("./locize2xcstrings.js"));function o(n){return n&&n.__esModule?n:{default:n}}t.default={xcstrings2locize:r.default,locize2xcstrings:i.default}},{"./locize2xcstrings.js":2,"./xcstrings2locize.js":3}],2:[function(n,e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(u){var f={sourceLanguage:u.sourceLng||Object.keys(u.resources||{})[0],strings:{},version:u.version||"1.0"},n=Object.keys(u.resources).sort(),e=r(u.resources,n);return n.forEach(function(l){e.forEach(function(r){var n,i,e,t,o,s,a,c=r.match(v);c?(e=r.substring(0,c.index),(c=(t=c[1]).match(v))&&(n=t.substring(0,c.index),i=c[1])):e=r,(c=f.strings)[a=e]||(c[a]={}),!f.strings[e].comment&&null!=(c=u.resources[f.sourceLanguage])&&null!=(c=c[r])&&null!=(c=c.context)&&c.text&&(f.strings[e].comment=null==(a=u.resources[f.sourceLanguage][r])||null==(a=a.context)?void 0:a.text),null!=u.resources[l][r]&&("string"==typeof u.resources[l][r]&&(u.resources[l][r]={value:u.resources[l][r]}),t||void 0===u.resources[l][r].value?t&&((c=f.strings[e]).localizations||(c.localizations={}),(a=f.strings[e].localizations)[l]||(a[l]={}),i?(o=n.split(".")).reduce(function(n,e){var t;return n[e]||(n[e]={}),e===o[o.length-1]&&(t=i.split(".")).reduce(function(n,e){return n[e]||(n[e]={}),e===t[t.length-1]&&(n[e].stringUnit={state:"translated",value:u.resources[l][r].value}),n[e]},n[e]),n[e]},f.strings[e].localizations[l]):(s=t.split(".")).reduce(function(n,e){return n[e]||(n[e]={}),e===s[s.length-1]&&(n[e].stringUnit={state:"translated",value:u.resources[l][r].value}),n[e]},f.strings[e].localizations[l])):((c=f.strings[e]).localizations||(c.localizations={}),(a=f.strings[e].localizations)[l]||(a[l]={}),f.strings[e].localizations[l].stringUnit={state:"translated",value:u.resources[l][r].value}))})}),JSON.stringify(f,null,2).replace(/"\s*:\s*/g,'" : ').replace(/:\s*{},\s*/g,": {\n\n    },\n    ")};var v=/\[(.*?)\]$/,r=function(e,n){var t=[];return n.forEach(function(n){Object.keys(e[n]).forEach(function(n){t.indexOf(n)<0&&t.push(n)})}),t.sort().sort(function(n,e){var t=n.match(v),r=e.match(v),i=n,o=e;return(i=t?n.substring(0,t.index):i)===(o=r?e.substring(0,r.index):o)?0:o<i?1:-1})};e.exports=t.default},{}],3:[function(n,e,t){function r(n){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(l){"string"==typeof l&&(l=JSON.parse(l));var u={sourceLng:l.sourceLanguage,resources:((n,e,t)=>((e=(n=>(n=((n,e)=>{if("object"!=r(n)||!n)return n;var t=n[Symbol.toPrimitive];if(void 0===t)return("string"===e?String:Number)(n);if("object"!=r(t=t.call(n,e||"default")))return t;throw new TypeError("@@toPrimitive must return a primitive value.")})(n,"string"),"symbol"==r(n)?n:n+""))(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n))({},l.sourceLanguage,{}),version:l.version},t=[];return Object.keys(l.strings).forEach(function(c){var n,e=Object.keys(l.strings[c].localizations||{});e.forEach(function(n){var e;t.indexOf(n)<0&&(t.push(n),(e=u.resources)[n]||(e[n]={}))}),0!==e.length||(n=u.resources[u.sourceLng])[c]||(n[c]={}),e.forEach(function(a){var n;void 0!==(null==(n=l.strings[c].localizations[a])||null==(n=n.stringUnit)?void 0:n.value)?((n=u.resources[a])[c]||(n[c]={}),u.resources[a][c].value=l.strings[c].localizations[a].stringUnit.value,f(l,u,a,c)):null!=(n=l.strings[c].localizations[a])&&n.variations&&null!=(n=l.strings[c].localizations[a])&&null!=(n=n.variations)&&n.plural?Object.keys(l.strings[c].localizations[a].variations.plural).forEach(function(n,e){var t,r,i="[variations.plural.".concat(n,"]");void 0!==(null==(t=l.strings[c].localizations[a].variations.plural[n])||null==(t=t.stringUnit)?void 0:t.value)&&((t=u.resources[a])[r="".concat(c).concat(i)]||(t[r]={}),u.resources[a]["".concat(c).concat(i)].value=l.strings[c].localizations[a].variations.plural[n].stringUnit.value),0===e&&f(l,u,a,c,i)}):null!=(n=l.strings[c].localizations[a])&&n.variations&&null!=(n=l.strings[c].localizations[a])&&null!=(n=n.variations)&&n.device&&Object.keys(l.strings[c].localizations[a].variations.device).forEach(function(o,s){var n,e,t="[variations.device.".concat(o,"]");void 0!==(null==(n=l.strings[c].localizations[a].variations.device[o])||null==(n=n.stringUnit)?void 0:n.value)?((n=u.resources[a])[e="".concat(c).concat(t)]||(n[e]={}),u.resources[a]["".concat(c).concat(t)].value=l.strings[c].localizations[a].variations.device[o].stringUnit.value,0===s&&f(l,u,a,c,t)):null!=(n=l.strings[c].localizations[a].variations.device[o])&&null!=(n=n.variations)&&n.plural&&Object.keys(l.strings[c].localizations[a].variations.device[o].variations.plural).forEach(function(n,e){var t,r,i="[variations.device.".concat(o,"[variations.plural.").concat(n,"]]");void 0!==(null==(t=l.strings[c].localizations[a].variations.device[o].variations.plural[n])||null==(t=t.stringUnit)?void 0:t.value)&&((t=u.resources[a])[r="".concat(c).concat(i)]||(t[r]={}),u.resources[a]["".concat(c).concat(i)].value=l.strings[c].localizations[a].variations.device[o].variations.plural[n].stringUnit.value),0===s&&0===e&&f(l,u,a,c,i)})})})}),u};var f=function(n,e,t,r){var i,o,s=4<arguments.length&&void 0!==arguments[4]?arguments[4]:"";t===e.sourceLng&&n.strings[r].comment&&((i=e.resources[t])[o="".concat(r).concat(s)]||(i[o]={}),e.resources[t]["".concat(r).concat(s)].context={text:n.strings[r].comment})};e.exports=t.default},{}]},{},[1])(1)});